import aiosqlite
from config import DB_PATH

async def get_faq(category=None):
    async with aiosqlite.connect(DB_PATH) as db:
        db.row_factory = aiosqlite.Row
        if category:
            async with db.execute(
                'SELECT * FROM faq WHERE category = ?',
                (category,)
            ) as cursor:
                return await cursor.fetchall()
        else:
            async with db.execute('SELECT * FROM faq') as cursor:
                return await cursor.fetchall()

async def init_default_faq():
    faq_data = [
        ("–ø—Ä–∏–≤–µ—Ç", "–ü—Ä–∏–≤–µ—Ç! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å? üòä", "new"),
        ("–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π! –†–∞–¥–∞ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å! –ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã? üòä", "new"),
        ("–∫–∞–∫ –¥–µ–ª–∞", "–û—Ç–ª–∏—á–Ω–æ, –ø–æ–º–æ–≥–∞—é –¥–µ–≤–æ—á–∫–∞–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π! –£ —Ç–µ–±—è –∫–∞–∫? üòä", "new"),
        ("—á—Ç–æ –¥–µ–ª–∞–µ—à—å", "–†–∞–±–æ—Ç–∞—é, –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É—é –Ω–æ–≤–µ–Ω—å–∫–∏—Ö –ø–æ Halo. –ê —Ç—ã –≥–æ—Ç–æ–≤–∞ –Ω–∞—á–∞—Ç—å? üí™", "new"),
        ("–∫—Ç–æ —Ç—ã", "–Ø –º–µ–Ω–µ–¥–∂–µ—Ä –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ Valencia, –ø–æ–º–æ–≥–∞—é –¥–µ–≤–æ—á–∫–∞–º –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤ Halo üòä", "new"),
        ("—Ö–æ—Ä–æ—à–æ", "–û—Ç–ª–∏—á–Ω–æ! –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Äî –æ–±—Ä–∞—â–∞–π—Å—è üëç", "new"),
        ("–ø–æ–Ω—è—Ç–Ω–æ", "–°—É–ø–µ—Ä! –†–∞–¥–∞, —á—Ç–æ –ø–æ–º–æ–≥–ª–∞ üòä", "new"),
        ("—Å–ø–∞—Å–∏–±–æ", "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –ï—Å–ª–∏ –±—É–¥—É—Ç –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–∏—à–∏ üòä", "new"),
        ("–æ–∫", "–û—Ç–ª–∏—á–Ω–æ! –Ø –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ üòä", "new"),
        ("–µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞ –¥–ª—è –º—É–∂—á–∏–Ω", "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ—Ç. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å –¥–µ–≤—É—à–∫–∞–º–∏ üòä", "new"),
        ("–Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏—Ü–æ", "–î–∞, –ª–∏—Ü–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ üòä", "new"),
        ("–∫–∞–∫ —è –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é –¥–µ–Ω—å–≥–∏", "–¢—ã –æ–±—â–∞–µ—à—å—Å—è —Å –º—É–∂—á–∏–Ω–æ–π –≤ –ª–∏—á–Ω–æ–º –∑–≤–æ–Ω–∫–µ –∏ –ø–æ–ª—É—á–∞–µ—à—å 0.8$ –∑–∞ 1 –º–∏–Ω—É—Ç—É –æ–±—â–µ–Ω–∏—è + –ø–æ–¥–∞—Ä–∫–∏ üéÅ –¢–∞–∫–∂–µ –º–æ–∂–µ—à—å –≤–µ—Å—Ç–∏ –ø—Ä—è–º—ã–µ —ç—Ñ–∏—Ä—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –æ—Ç—Ç—É–¥–∞! üí∞", "new"),
        ("—Å–∫–æ–ª—å–∫–æ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å", "–î–æ—Ö–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–≤–æ–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –≥–æ—Ç–æ–≤–∞ —É–¥–µ–ª—è—Ç—å —Ä–∞–±–æ—Ç–µ. –í —Å—Ä–µ–¥–Ω–µ–º –¥–µ–≤–æ—á–∫–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –æ—Ç 200$ –¥–æ 1000$+ –≤ –Ω–µ–¥–µ–ª—é üíµ", "new"),
        ("—Å–∫–æ–ª—å–∫–æ –¥–µ–≤–æ—á–∫–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç", "–£ –≤—Å–µ—Ö –ø–æ-—Ä–∞–∑–Ω–æ–º—É! –ö—Ç–æ-—Ç–æ 200$ –≤ –Ω–µ–¥–µ–ª—é, –∞ –∫—Ç–æ-—Ç–æ 1000$+. –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ üí™", "new"),
        ("–µ—Å—Ç—å –ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫", "–ù–µ—Ç, –≥—Ä–∞—Ñ–∏–∫ —Å–≤–æ–±–æ–¥–Ω—ã–π! –¢—ã —Å–∞–º–∞ –≤—ã–±–∏—Ä–∞–µ—à—å, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞—Ç—å üïí", "new"),
        ("–Ω—É–∂–Ω—ã –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã", "–ù–µ—Ç, –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –Ω—É–∂–Ω—ã ‚úÖ", "new"),
        ("—Å–æ —Å–∫–æ–ª—å–∫–∏ –ª–µ—Ç –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å", "–° 16 –ª–µ—Ç –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É üëç", "new"),
        ("—Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω—É–∂–Ω–æ —É–¥–µ–ª—è—Ç—å", "–ú–∏–Ω–∏–º—É–º 4-6 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. –ß–µ–º –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –∑–∞—Ä–∞–±–æ—Ç–æ–∫! üí™", "new"),
        ("–∫–∞–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è", "–°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏—à–ª–∏ –º–Ω–µ 2-3 —Å–≤–æ–∏—Ö —Ñ–æ—Ç–æ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è –æ—Ñ–∏—Å–æ–º. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —è –¥–∞–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏! üòä", "new"),
        ("–∫—É–¥–∞ –Ω–∞–∂–∞—Ç—å", "–°–∫–∞—á–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ https://livegirl.me/#/mobilepage (—Ä–æ–∑–æ–≤–æ–µ For hosts), –æ—Ç–∫—Ä–æ–π –µ–≥–æ –∏ –Ω–∞–∂–º–∏ '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è'. –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏! üòä", "working"),
        ("–≥–¥–µ —Å–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", "–í–æ—Ç —Å—Å—ã–ª–∫–∞: https://livegirl.me/#/mobilepage - —Å–∫–∞—á–∏–≤–∞–π —Ä–æ–∑–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ For hosts üì±", "working"),
        ("–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∞–≤–∞–Ω—Å", "–ê–≤–∞–Ω—Å—ã –≤—ã–¥–∞—é—Ç—Å—è –ø–æ —Å—Ä–µ–¥–∞–º –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã. –ù–∞–ø–∏—à–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π üí∞", "working"),
        ("–Ω–µ –ø—Ä–∏—à–ª–∞ –æ–ø–ª–∞—Ç–∞", "–ü—Ä–æ–≤–µ—Ä—å –±–∞–ª–∞–Ω—Å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –í—ã–ø–ª–∞—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 1-3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π. –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –Ω–∞–ø–∏—à–∏ –º–Ω–µ, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è üòä", "working"),
        ("–∫–∞–∫ –≤–∑—è—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π", "–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—É –∑–∞ 24 —á–∞—Å–∞ –¥–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ. –ì—Ä–∞—Ñ–∏–∫ —Å–≤–æ–±–æ–¥–Ω—ã–π, —Ç—ã —Å–∞–º–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É üìÖ", "working"),
        ("–ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º", "–û–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ–±–ª–µ–º—É, —è –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è. –ú–æ–∂–µ—à—å –ø—Ä–∏—Å–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç üì±", "working"),
    ]
    
    async with aiosqlite.connect(DB_PATH) as db:
        for q, a, c in faq_data:
            await db.execute(
                'INSERT OR IGNORE INTO faq (question, answer, category) VALUES (?, ?, ?)',
                (q, a, c)
            )
        await db.commit()
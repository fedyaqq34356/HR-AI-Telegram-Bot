import aiosqlite
from config import DB_PATH

async def get_setting(key):
    async with aiosqlite.connect(DB_PATH) as db:
        async with db.execute('SELECT value FROM settings WHERE key = ?', (key,)) as cursor:
            row = await cursor.fetchone()
            return row[0] if row else None

async def set_setting(key, value):
    async with aiosqlite.connect(DB_PATH) as db:
        await db.execute(
            'INSERT OR REPLACE INTO settings (key, value) VALUES (?, ?)',
            (key, value)
        )
        await db.commit()

async def init_default_settings():
    default_welcome = """–ü—Ä–∏–≤–µ—Ç–∏–∫. 
üåü –†–ê–ë–û–¢–ê –°–¢–†–ò–ú-–ú–û–î–ï–õ–¨–Æ –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò HALO üåü

üí¨ –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –æ–±—â–µ–Ω–∏–∏, –ø—Ä—è–º—ã—Ö —ç—Ñ–∏—Ä–∞—Ö –∏ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞—Ö —Å –º—É–∂—á–∏–Ω–∞–º–∏
üìû 1 –º–∏–Ω—É—Ç–∞ –æ–±—â–µ–Ω–∏—è = 1$
üí≥ –ö–æ–º–∏—Å—Å–∏—è –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ ‚Äî 20%
üëâ –ß–∏—Å—Ç—ã–π –¥–æ—Ö–æ–¥ –º–æ–¥–µ–ª–∏: 0.8$ –∑–∞ –º–∏–Ω—É—Ç—É –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∑–≤–æ–Ω–∫–∞

üíµ –û—Ç 50$ –≤ –¥–µ–Ω—å –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ
üåç –ê—É–¥–∏—Ç–æ—Ä–∏—è: –°–®–ê, –ï–≤—Ä–æ–ø–∞, –ê–Ω–≥–ª–∏—è, –û–ê–≠
üåê –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –≤ —á–∞—Ç–µ ‚Äî –∑–Ω–∞–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
üïí –°–≤–æ–±–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—à—å, –∫–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ

üí° –í –æ—Ç–∫—Ä—ã—Ç—ã—Ö —ç—Ñ–∏—Ä–∞—Ö ‚Äî —Ç–æ–ª—å–∫–æ –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ

üì§ –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤:
–í—ã–≤–æ–¥ –¥–µ–ª–∞–µ—à—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
–í—ã–≤–æ–¥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–∏ 1-3 –¥–Ω—è
–í—ã–≤–æ–¥ –Ω–∞ Volet –∞ —Å –Ω–µ–≥–æ ‚Üí –∫–∞—Ä—Ç–∞ –∏–ª–∏ –∫—Ä–∏–ø—Ç–∞
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –ø–æ–º–æ–≥–∞–µ–º —Å –≤—ã–≤–æ–¥–æ–º

üì∏ –ö–ê–ö –ù–ê–ß–ê–¢–¨ –†–ê–ë–û–¢–£:
–ü—Ä–∏—à–ª–∏ 2‚Äî3 —Ñ–æ—Ç–æ:
‚Äî —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚Äî —á—ë—Ç–∫–æ –≤–∏–¥–Ω–æ –ª–∏—Ü–æ
(—Ñ–æ—Ç–æ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

‚ö†Ô∏è –í–ê–ñ–ù–û:
üîπ –ü–µ—Ä–≤—ã–µ 7 –¥–Ω–µ–π ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥
üîπ –ù—É–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å 100$
üöÄ –ù–æ–≤–µ–Ω—å–∫–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç
‚ùå –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω ‚Äî –∞–∫–∫–∞—É–Ω—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

–ï—Å–ª–∏ —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º–∞—Ç ‚Äî –∂–¥—É —Ñ–æ—Ç–æ üëã"""

    default_rejection = "–ü—Ä–æ—Å—Ç–∏ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–æ –æ—Ñ–∏—Å –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –æ—Ç–∫–ª–æ–Ω–∏–ª —Ç–≤–æ—é –∞–Ω–∫–µ—Ç—É."
    
    default_approval = """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–∞–±–æ—á–∏–º –≥—Ä—É–ø–ø–∞–º

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
 ‚Ä¢ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –¥–≤—É–º –≥—Ä—É–ø–ø–∞–º.
 ‚Ä¢ –í –≥—Ä—É–ø–ø–µ ¬´–û–±—É—á–µ–Ω–∏–µ¬ª –µ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
 ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Å—è —Å –Ω–∏–º!

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–∏—à–∏, —è –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ –∏ –ø–æ–º–æ–≥—É üòä"""

    default_registration = """üì∞ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ó–∞—Ö–æ–¥–∏—à—å –Ω–∞ —Å–∞–π—Ç –∏ —Å–∫–∞—á–∏–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –¥–ª—è —Ç–≤–æ–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ For hosts ( —Ä–æ–∑–æ–≤–æ–µ ).
https://livegirl.me/#/mobilepage

üì∞ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –û—Ç–∫—Ä—ã–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–∂–∏–º–∞–µ—à—å ¬´–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è¬ª.
–í–≤–æ–¥–∏—à—å:
‚Ä¢ –ü–æ—á—Ç—É
‚Ä¢ –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞
2. –£–∫–∞–∑—ã–≤–∞–µ—à—å:
‚Ä¢ –ù–∏–∫–Ω–µ–π–º
‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç
‚Ä¢ –Ø–∑—ã–∫–∏: –∞—Ä–∞–±—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π
3. –í —Ä–∞–∑–¥–µ–ª–µ –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –≤—ã–±–∏—Ä–∞–µ—à—å: Tosagency
4. –ó–∞–≥—Ä—É–∂–∞–µ—à—å —Å–≤–æ—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—à—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.
üîπ –ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–∏–¥–µ–æ:
Hello, my name is Anya. I am 18 years old. I live in Germany. I want to join.
üëâ –£–∫–∞–∂–∏ —Å–≤–æ—ë –∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç (–º–æ–∂–Ω–æ —á—É—Ç—å –º–µ–Ω—å—à–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ) –∏ —Å—Ç—Ä–∞–Ω—É.
üì¢ –ï—Å–ª–∏ –Ω–µ —É–º–µ–µ—à—å —á–∏—Ç–∞—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º ‚Äî –≤–æ—Ç –∫–∞–∫ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—å:
–•–µ–ª–ª–æ—É. –ú–∞–π –Ω–µ–π–º –ê–Ω—è. –ê–π —ç–º —ç–π—Ç–∏–Ω –π–µ—Ä—Å –æ–ª–¥. –ê–π –ª–∏–≤ –∏–Ω –î–∂–µ—Ä–º–∞–Ω–∏. –ê–π –≤–æ–Ω—Ç —Ç—É –¥–∂–æ–π–Ω.
5. –ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ ‚Äî –ø—Ä–∏—à–ª–∏ —Å–∫—Ä–∏–Ω, –≥–¥–µ –≤–∏–¥–Ω–æ —Ç–≤–æ–π ID –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ.
6. –Ø –æ—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞—è–≤–∫—É –≤ –æ—Ñ–∏—Å. –ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å —Ç–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç."""

    async with aiosqlite.connect(DB_PATH) as db:
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('welcome_message', default_welcome))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('rejection_message', default_rejection))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('approval_message', default_approval))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('registration_instructions', default_registration))
        await db.commit()
import aiosqlite
from config import DB_PATH

async def get_setting(key):
    async with aiosqlite.connect(DB_PATH) as db:
        async with db.execute('SELECT value FROM settings WHERE key = ?', (key,)) as cursor:
            row = await cursor.fetchone()
            return row[0] if row else None

async def set_setting(key, value):
    async with aiosqlite.connect(DB_PATH) as db:
        await db.execute(
            'INSERT OR REPLACE INTO settings (key, value) VALUES (?, ?)',
            (key, value)
        )
        await db.commit()

async def init_default_settings():
    default_welcome = """–ü—Ä–∏–≤–µ—Ç–∏–∫

üåü –†–ê–ë–û–¢–ê –°–¢–†–ò–ú-–ú–û–î–ï–õ–¨–Æ –í –ü–†–ò–õ–û–ñ–ï–ù–ò–ò HALO üåü

üí¨ –ó–∞—Ä–∞–±–æ—Ç–æ–∫ –Ω–∞ –æ–±—â–µ–Ω–∏–∏, –ø—Ä—è–º—ã—Ö —ç—Ñ–∏—Ä–∞—Ö –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞—Ö —Å –º—É–∂—á–∏–Ω–∞–º–∏
üìû 1 –º–∏–Ω—É—Ç–∞ –æ–±—â–µ–Ω–∏—è = 1$
üí≥ –ö–æ–º–∏—Å—Å–∏—è –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ ‚Äî 20%
üëâ –ß–∏—Å—Ç—ã–π –¥–æ—Ö–æ–¥: 0.8$ –∑–∞ –º–∏–Ω—É—Ç—É

üí∞ –ü—Ä–∏–º–µ—Ä—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –∑–≤–æ–Ω–∫–∞—Ö:
‚Äî 5 –º–∏–Ω—É—Ç –æ–±—â–µ–Ω–∏—è = 5$ ‚Üí 4$ —á–∏—Å—Ç—ã–º–∏
‚Äî 10 –º–∏–Ω—É—Ç = 10$ ‚Üí 8$ —á–∏—Å—Ç—ã–º–∏
‚Äî 30 –º–∏–Ω—É—Ç = 30$ ‚Üí 24$ —á–∏—Å—Ç—ã–º–∏
‚Äî 1 —á–∞—Å –∑–≤–æ–Ω–∫–æ–≤ = 60$ ‚Üí 48$ —á–∏—Å—Ç—ã–º–∏

üíµ –û—Ç 50$ –≤ –¥–µ–Ω—å –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ

üåç –ê—É–¥–∏—Ç–æ—Ä–∏—è: –°–®–ê, –ï–≤—Ä–æ–ø–∞, –ê–Ω–≥–ª–∏—è, –û–ê–≠, –∞—Ä–∞–±—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω—ã
üë®‚Äçüíº –ú–Ω–æ–≥–∏–µ –º—É–∂—á–∏–Ω—ã –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–º–µ–Ω–Ω–æ –∑–∞ –æ–±—â–µ–Ω–∏–µ–º, –∞ –Ω–µ –∑–∞ üîû
üåê –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ ‚Äî –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
üïí –°–≤–æ–±–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—à—å, –∫–æ–≥–¥–∞ —É–¥–æ–±–Ω–æ

üé§ –í –æ—Ç–∫—Ä—ã—Ç—ã—Ö —ç—Ñ–∏—Ä–∞—Ö ‚Äî —Ç–æ–ª—å–∫–æ –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ
–ú–æ–∂–Ω–æ —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å, –ø–µ—Ç—å, –æ–±—â–∞—Ç—å—Å—è, —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É
üíé –í–∞–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –æ–ø—Ä—è—Ç–Ω–æ –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ
‚ùå –ù–∏–∫–∞–∫–æ–π —ç—Ä–æ—Ç–∏–∫–∏ –∏ –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ–π –æ–¥–µ–∂–¥—ã ‚Äî –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –±–∞–Ω

üìû –í –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∑–≤–æ–Ω–∫–∞—Ö —Ñ–æ—Ä–º–∞—Ç –æ–±—â–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º ‚Äî –ø–æ –≤–∑–∞–∏–º–Ω–æ–º—É —Å–æ–≥–ª–∞—Å–∏—é
‚Äî –ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è
‚Äî –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏
‚Äî –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ –∑–≤–æ–Ω–∫–∞—Ö
‚Äî –í–∞—Å –Ω–∏–∫—Ç–æ –Ω–µ —Å–ª—ã—à–∏—Ç, –∫—Ä–æ–º–µ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞

üì§ –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤:
‚Äî –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
‚Äî –°—Ä–æ–∫: 1‚Äì3 –¥–Ω—è
‚Äî –ï—Å—Ç—å –≤–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–∞–∫ –≤—ã–≤–µ—Å—Ç–∏ –¥–µ–Ω—å–≥–∏ –Ω–∞ –∫–∞—Ä—Ç—É –∏–ª–∏ –∫—Ä–∏–ø—Ç—É
‚Äî –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –ø–æ–º–æ–≥–∞–µ–º —Å –≤—ã–≤–æ–¥–æ–º

üì∏ –ö–∞–∫ –Ω–∞—á–∞—Ç—å:
–ü—Ä–∏—à–ª–∏ 2‚Äì3 —Ñ–æ—Ç–æ
‚Äî —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
‚Äî —á—ë—Ç–∫–æ –≤–∏–¥–Ω–æ –ª–∏—Ü–æ
(—Ñ–æ—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

‚ö†Ô∏è –í–∞–∂–Ω–æ:
üîπ –ü–µ—Ä–≤—ã–µ 7 –¥–Ω–µ–π ‚Äî —Ç–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥
üîπ –ù—É–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å 100$
üîπ –£ –∫–∞–∂–¥–æ–π –¥–µ–≤—É—à–∫–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç. –ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –±–ª–æ–∫–∏—Ä—É—é—Ç ‚Äî –Ω–æ–≤—ã–π —Å–æ–∑–¥–∞—Ç—å –Ω–µ–ª—å–∑—è, –ø–æ—ç—Ç–æ–º—É –≤—ã–¥–µ–ª—è–π—Ç–µ –º–∞–∫—Å–∏–º—É–º –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã
üöÄ –ù–æ–≤–µ–Ω—å–∫–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç
‚ùå –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ–Ω ‚Äî –∞–∫–∫–∞—É–Ω—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç ‚Äî –∂–¥—É —Ñ–æ—Ç–æ üëã"""

    default_rejection = "–ü—Ä–æ—Å—Ç–∏ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–æ –æ—Ñ–∏—Å –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –æ—Ç–∫–ª–æ–Ω–∏–ª —Ç–≤–æ—é –∞–Ω–∫–µ—Ç—É."
    
    default_approval = """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–∞–±–æ—á–∏–º –≥—Ä—É–ø–ø–∞–º

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
 ‚Ä¢ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –¥–≤—É–º –≥—Ä—É–ø–ø–∞–º.
 ‚Ä¢ –í –≥—Ä—É–ø–ø–µ ¬´–û–±—É—á–µ–Ω–∏–µ¬ª –µ—Å—Ç—å –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
 ‚Ä¢ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Å—è —Å –Ω–∏–º!

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã ‚Äî –ø–∏—à–∏, —è –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ –∏ –ø–æ–º–æ–≥—É üòä"""

    default_registration = """üî∞ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ó–∞—Ö–æ–¥–∏—à—å –Ω–∞ —Å–∞–π—Ç –∏ —Å–∫–∞—á–∏–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ For hosts, –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –¥–ª—è —Ç–≤–æ–µ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–≤—ã–¥–µ–ª–µ–Ω–æ —Ä–æ–∑–æ–≤—ã–º —Ü–≤–µ—Ç–æ–º).
https://livegirl.me/#/mobilepage

üì∞ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –û—Ç–∫—Ä—ã–≤–∞–µ—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–∂–∏–º–∞–µ—à—å ¬´–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è¬ª.
–í–≤–æ–¥–∏—à—å:
‚Ä¢ –ü–æ—á—Ç—É
‚Ä¢ –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞
2. –£–∫–∞–∑—ã–≤–∞–µ—à—å:
‚Ä¢ –ù–∏–∫–Ω–µ–π–º
‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç
‚Ä¢ –Ø–∑—ã–∫–∏: –∞—Ä–∞–±—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π, —Ä—É—Å—Å–∫–∏–π
3. –í —Ä–∞–∑–¥–µ–ª–µ –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ –≤—ã–±–∏—Ä–∞–µ—à—å: Tosagency-Ukraine
4. –ó–∞–≥—Ä—É–∂–∞–µ—à—å —Å–≤–æ—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—à—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ-–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.
üîπ –ü—Ä–∏–º–µ—Ä –¥–ª—è –≤–∏–¥–µ–æ:
Hello, my name is Anya. I am 18 years old. I live in Germany. I want to join.
üëâ –£–∫–∞–∂–∏ —Å–≤–æ—ë –∏–º—è, –≤–æ–∑—Ä–∞—Å—Ç (–º–æ–∂–Ω–æ —á—É—Ç—å –º–µ–Ω—å—à–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ) –∏ —Å—Ç—Ä–∞–Ω—É.
üì¢ –ï—Å–ª–∏ –Ω–µ —É–º–µ–µ—à—å —á–∏—Ç–∞—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º ‚Äî –≤–æ—Ç –∫–∞–∫ –ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç—å:
–•–µ–ª–ª–æ—É. –ú–∞–π –Ω–µ–π–º –ê–Ω—è. –ê–π —ç–º —ç–π—Ç–∏–Ω –π–µ—Ä—Å –æ–ª–¥. –ê–π –ª–∏–≤ –∏–Ω –î–∂–µ—Ä–º–∞–Ω–∏. –ê–π –≤–æ–Ω—Ç —Ç—É –¥–∂–æ–π–Ω.
5. –ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ ‚Äî –ø—Ä–∏—à–ª–∏ —Å–∫—Ä–∏–Ω, –≥–¥–µ –≤–∏–¥–Ω–æ —Ç–≤–æ–π ID –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ.
6. –Ø –æ—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞—è–≤–∫—É –≤ –æ—Ñ–∏—Å. –ù–∞ —Å–ª–µ–¥—É—é—â–∏–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å —Ç–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç."""

    async with aiosqlite.connect(DB_PATH) as db:
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('welcome_message', default_welcome))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('rejection_message', default_rejection))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('approval_message', default_approval))
        await db.execute('INSERT OR IGNORE INTO settings (key, value) VALUES (?, ?)', ('registration_instructions', default_registration))
        await db.commit()